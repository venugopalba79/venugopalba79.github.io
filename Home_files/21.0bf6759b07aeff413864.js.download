(function(){var M=document&&document.currentScript&&document.currentScript.src;(window.webpackJsonpruntime=window.webpackJsonpruntime||[]).push([[21],{ln0a:function(B,i,u){"use strict";u.r(i),u.d(i,"countWidgetTypes",function(){return d}),u.d(i,"countButtonTypes",function(){return m}),u.d(i,"countImages",function(){return g}),u.d(i,"collectWidgetCount",function(){return S});var v=u("yXPU"),l=u.n(v);const c="[data-widget-type], [data-element-type]";function d(){const t=document.querySelectorAll(c),n=Array.from(t).reduce(y({generateFeatureKey:e=>`widget-${h(e)}`}),{});return Object.values(n)}function m(){const t=document.querySelectorAll(c),n=Array.from(t).filter(f).reduce(y({generateFeatureKey:e=>`${W(e)}-${h(e)}`}),{});return Object.values(n)}function b(){const t=document.querySelectorAll('[data-element-type="mapextension"][provider="mappy"][data-radius-toggle="true"]');return t.length?[{feature:"maps-mappy-radius",count:t.length}]:[]}function T(){const t=document.querySelectorAll('[data-element-type="html"]'),n=["acuityscheduling","tidycal","Calendly","simplybookme","fareharbor","bookalet","bookeo"];return Array.from(t).find(r=>n.some(o=>r.innerHTML.toLowerCase().includes(o)))?[{feature:"booking-script",count:1}]:[]}function A(){const t=document.querySelectorAll(c),n=["book","appointment","schedule"];return Array.from(t).filter(f).find(r=>n.some(o=>r.innerHTML.toLowerCase().includes(o)))?[{feature:"booking-text",count:1}]:[]}function g(){const t=document.querySelectorAll("img"),n=document.querySelectorAll("img[alt]");return[{feature:"all-image-elements",count:t.length},{feature:"all-image-elements-with-alt",count:n.length}]}function S(){return a.apply(this,arguments)}function a(){return a=l()(function*(){var t,n;if(!((t=window.rtCommonProps)!==null&&t!==void 0&&t["scripts.widgetCount.enabled"]))return;let e=d();e=e.concat(b()),e=e.concat(m()),e=e.concat(T()),e=e.concat(A()),e=e.concat(g());const{_currentPage:r,Parameters:o}=window,P={features:e,siteAlias:o==null?void 0:o.SiteAlias,sitePublicationDate:o!=null&&o.PublicationDate?new Date(o==null?void 0:o.PublicationDate).getTime():0,pageType:o==null?void 0:o.pageType,pageUuid:(r==null||(n=r.pageContent)===null||n===void 0?void 0:n.uuid)||(o==null?void 0:o.InitialPageUuid)||`${r==null?void 0:r.pageID}`,path:location.pathname};C(P)}),a.apply(this,arguments)}function C(t){return s.apply(this,arguments)}function s(){return s=l()(function*(t){try{var n;const e=(n=window.rtCommonProps)===null||n===void 0?void 0:n["runtimecollector.url"];if(!e)return;yield fetch(`${e}/feature/metrics`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)})}catch(e){console.debug("Failed send metrics for feature count",e)}}),s.apply(this,arguments)}function y({generateFeatureKey:t}){return(n,e)=>{const r=t(e);return n[r]||(n[r]={feature:r,count:0}),n[r].count+=1,n}}const f=t=>{const n=t.classList.contains("dmWidget")&&p(t),e=Array.from(t.querySelectorAll(".dmWidget")).some(r=>p(r));return n||e};function p(t){return window.getComputedStyle(t).getPropertyValue("display")!=="none"}function W(t){return t.classList.contains("button_2")||t.querySelector(".button_2")?"button-secondary":"button-primary"}const h=t=>{const n=t.getAttribute("data-widget-type")||t.getAttribute("data-element-type"),e=t.getAttribute("data-widget-id");return e?`${n}-${e}`:n}}}])})();
